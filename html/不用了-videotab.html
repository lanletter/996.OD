<!DOCTYPE html>
<html>
<head>
    <title>直播间首页</title>
    <meta charset="utf-8">
    <meta name='viewport'
          content='width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,minimum-scale=1.0'>
    <link rel="stylesheet" type="text/css" href="../css/common.css">
    <link rel="stylesheet" type="text/css" href="../css/video.css">
    <link href="../css/video-share.css" rel="stylesheet">
    <link href="http://vjs.zencdn.net/5.19.2/video-js.css" rel="stylesheet">
    <style type="text/css">
        #fotile {
            width: 7.18rem;
            height: 4.04rem;
            border-radius: 0.12rem;
        }

        .video-js .vjs-tech {
            width: 7.5rem;
            position: static;
        }

        .vjs-big-play-centered .vjs-big-play-button {
            top: 2rem;
            left: 50%;
            margin: 0;
            position: fixed;
            transform: translate(-50%, -50%);
        }

        .vjs-poster {
            background-position: center;
            background-size: auto 100%;
            border-radius: 0.12rem;
        }
    </style>
</head>
<body>
<div class="video-box">
    <div class="video-top">
        <div class="video-info">
            <div class="anchor">
                <img src="">
                <span>宋仲基</span>
            </div>
            <button class="livebtn">直播中</button>
            <span class="livetitle">直播制作黑暗料理</span>
            <div class="audience">
                <img src="../img/account.png">
                <span>322</span>
            </div>
            <img src="../img/rectangle2Copy6.png">
        </div>
        <video id="fotile" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto"
               data-setup='{}' webkit-playsinline="true" playsinline="true" x-webkit-airplay="true"
               x5-video-player-type="h5" x5-video-player-fullscreen="true" x5-video-ignore-metadata="true">
        </video>
        <div class="endlist">
            <img src="../img/end.png">
        </div>
    </div>

    <div class="bottomdiv"></div>

    <div id="tanContainer">
        <div id="tab">
            <ul>
                <li id="tab_0" onclick="changeTab('0')" class="selected"><a>评论(222)</a></li>
                <li id="tab_1" onclick="changeTab('1')"><a>详情</a></li>
                <li id="tab_2" onclick="changeTab('2')"><a>回放</a></li>
            </ul>
        </div>
        <div id="tabCon">
            <div id="tabCon_0">1</div>
            <div id="tabCon_1">2</div>
            <div id="tabCon_2">
                <div class="video-list-box">
                    <ul class="video-list-ul">
                        <li>
                            <time>03:40</time>
                            <img class="posterimg" src="../img/food.jpg"/>
                            <div class="video-describe">
                                <p>直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜</p>
                                <span>烹饪/中餐/早餐</span>
                                <div class="header__opt">
                                    <span class="view-count"><strong>2341</strong></span>
                                    <span class="favorite-count"><strong>4321</strong></span>
                                </div>
                            </div>
                        </li>
                        <li>
                            <time>03:40</time>
                            <img class="posterimg" src="../img/food.jpg"/>
                            <div class="video-describe">
                                <p>直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜</p>
                                <span>烹饪/中餐/早餐</span>
                                <div class="header__opt">
                                    <span class="view-count"><strong>2341</strong></span>
                                    <span class="favorite-count"><strong>4321</strong></span>
                                </div>
                            </div>
                        </li>
                        <li>
                            <time>03:40</time>
                            <img class="posterimg" src="../img/food.jpg"/>
                            <div class="video-describe">
                                <p>直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜直播烧菜</p>
                                <span>烹饪/中餐/早餐</span>
                                <div class="header__opt">
                                    <span class="view-count"><strong>2341</strong></span>
                                    <span class="favorite-count"><strong>4321</strong></span>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


</div>
<script type="text/javascript" src='../js/lib.js'></script>
<script type="text/javascript" src='../js/api.js'></script>
<script type="text/javascript" src='../js/video.min.js'></script>
<script type="text/javascript" src='../js/video-hls.js'></script>
<script type="text/javascript">
    $api.post('http://121.40.135.115:8180/fotile-api-0.0.2/video/getVideoDetailInfo.json', {}, function (res) {
        $('.count').text(res.data.name)
    })

    var player = videojs('fotile', {
        poster: '../img/food.jpg',
        // 直播资源列表
        sources: [
            {
                src: 'http://lifevideo.fotile.com/AppName/StreamName.m3u8',
                type: 'application/x-mpegURL'
            },
            {
                src: 'http://pic.qiantucdn.com/58pic/shipin/22/15/04/22150421.mp4',
                type: 'video/mp4'
            }
        ],
    });

    function callback() {
        this.dispose();
        $('video').hide();
        $('.endlist').show();
    }

    player.on('ended', function () {
        callback.call(this);
    });
    player.on('error', function () {
        callback.call(this);
    })

    function changeTab(tabCon_num) {
        for (i = 0; i <= 2; i++) {
            document.getElementById("tabCon_" + i).style.display = "none"; //将所有的层都隐藏
            document.getElementById("tab_" + i).className= ""; //清除其他标签被选中的样式
        }
        document.getElementById("tabCon_" + tabCon_num).style.display = "block";//显示当前层
        document.getElementById("tab_" + tabCon_num).className= "selected";//被选中

    }

</script>
</body>
</html>